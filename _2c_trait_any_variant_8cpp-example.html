<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Any++: _2c_trait_any_variant.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Any++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_2c_trait_any_variant_8cpp-example.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">_2c_trait_any_variant.cpp</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="anyxx_8hpp.html">bit_factory/anyxx.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;catch2/catch_test_macros.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;compare&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;concepts&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;format&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ios&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;print&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;variant&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>example_2c {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>custom {</div>
<div class="line">  std::string answer;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>value_has_open_dispatch {};</div>
<div class="line"><a id="a0" name="a0"></a><a class="code hl_define" href="group__trait__macros.html#ga47a5ba38b03d55fa5f63979281028d22">ANY</a>(value,</div>
<div class="line">    (<a id="a1" name="a1"></a><a class="code hl_define" href="group__trait__macros.html#ga73e339005a697eb20b243d1622873b99">ANY_FN_DEF</a>(std::string, to_string, (), <span class="keyword">const</span>,</div>
<div class="line">                          [&amp;x]() { <span class="keywordflow">return</span> std::format(<span class="stringliteral">&quot;{}&quot;</span>, x); }),</div>
<div class="line">     <a class="code hl_define" href="group__trait__macros.html#ga73e339005a697eb20b243d1622873b99">ANY_FN_DEF</a>(<span class="keywordtype">void</span>, from_string, (std::string_view), ,</div>
<div class="line">                          [&amp;x](std::string_view sv) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line">                            std::stringstream ss{std::string{sv},</div>
<div class="line">                                                 std::ios_base::in};</div>
<div class="line">                            ss &gt;&gt; std::boolalpha &gt;&gt; x;</div>
<div class="line">                          })), )</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Proxy = anyxx::shared&gt;</div>
<div class="line"><span class="keyword">using </span>vany_value =</div>
<div class="line">    <a id="_a2" name="_a2"></a><a class="code hl_typedef" href="anyxx_8hpp.html#abb32933fc2d3ddd4236f3075dd5c1562">anyxx::make_vany&lt;any_value, Proxy, bool, int, double, std::string&gt;</a>;</div>
<div class="line"><span class="keyword">using </span>concrete_value = anyxx::vany_type_trait&lt;vany_value&lt;&gt;&gt;::concrete_variant;</div>
<div class="line"><span class="keyword">using </span>any_in_variant = anyxx::vany_type_trait&lt;vany_value&lt;&gt;&gt;::any_in_variant;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static_assert</span>(</div>
<div class="line">    <a class="code hl_concept" href="conceptanyxx_1_1is__proxy.html">anyxx::is_proxy</a>&lt;<a id="_a3" name="_a3"></a><a class="code hl_struct" href="structanyxx_1_1by__val.html">anyxx::by_val</a>&lt;</div>
<div class="line">        <a id="_a4" name="_a4"></a><a class="code hl_typedef" href="group__proxies.html#gaf97e4130c5c467557b419eb6e97b8d80">anyxx::vany_variant&lt;any_value, anyxx::shared, bool, int&gt;</a>&gt;&gt;);</div>
<div class="line"><span class="keyword">static_assert</span>(</div>
<div class="line">    std::same_as&lt;concrete_value, std::variant&lt;bool, int, double, std::string&gt;&gt;);</div>
<div class="line"><span class="keyword">static_assert</span>(std::same_as&lt;any_in_variant, any_value&lt;anyxx::shared&gt;&gt;);</div>
<div class="line"> </div>
<div class="line">}  <span class="comment">// namespace example_2c</span></div>
<div class="line"> </div>
<div class="line"><a id="a5" name="a5"></a><a class="code hl_define" href="group__model__map__macros.html#gaa11989a5b380318c70cc1a59a8642384">ANY_MODEL_MAP</a>((example_2c::custom), example_2c::value) {</div>
<div class="line">  <span class="keyword">static</span> std::string to_string(custom <span class="keyword">const</span>&amp; x) {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&quot;{&quot;</span> + x.answer + <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line">  };</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">void</span> from_string(custom &amp; x, std::string_view sv) {</div>
<div class="line">    x.answer = sv.substr(1, sv.length() - 2);</div>
<div class="line">  };</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">TEST_CASE(<span class="stringliteral">&quot;example 2ca static_ simple variant&quot;</span>) {</div>
<div class="line">  <span class="keyword">using namespace </span>example_2c;</div>
<div class="line">  <span class="keyword">using namespace </span>std::string_literals;</div>
<div class="line">  <span class="keyword">using namespace </span>anyxx;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">using </span>any_variant =</div>
<div class="line">      any_value&lt;by_val&lt;std::variant&lt;bool, int, double, std::string&gt;&gt;&gt;;</div>
<div class="line"> </div>
<div class="line">  CHECK(any_variant{<span class="keyword">true</span>}.to_string() == <span class="stringliteral">&quot;true&quot;</span>);</div>
<div class="line">  CHECK(any_variant{42}.to_string() == <span class="stringliteral">&quot;42&quot;</span>);</div>
<div class="line">  CHECK(any_variant{3.14}.to_string() == <span class="stringliteral">&quot;3.14&quot;</span>);</div>
<div class="line">  CHECK(any_variant{<span class="stringliteral">&quot;hello world&quot;</span>s}.to_string() == <span class="stringliteral">&quot;hello world&quot;</span>s);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST_CASE(<span class="stringliteral">&quot;example 2cb static_ any variant&quot;</span>) {</div>
<div class="line">  <span class="keyword">using namespace </span>example_2c;</div>
<div class="line">  <span class="keyword">using namespace </span>std::string_literals;</div>
<div class="line">  <span class="keyword">using namespace </span>anyxx;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static_assert</span>(</div>
<div class="line">      constructibile_for&lt;any_value&lt;shared&gt;, vany_value&lt;&gt;::proxy_t&gt;);</div>
<div class="line">  vany_value&lt;&gt; vv_custom_43 =</div>
<div class="line">      any_value&lt;shared&gt;{std::in_place_type&lt;custom&gt;, <span class="stringliteral">&quot;43&quot;</span>};</div>
<div class="line">  vany_value&lt;&gt; vv_custom_42 = {</div>
<div class="line">      any_value&lt;shared&gt;{std::in_place, custom{<span class="stringliteral">&quot;42&quot;</span>}}};</div>
<div class="line"> </div>
<div class="line">  CHECK(vany_value&lt;&gt;{<span class="keyword">true</span>}.to_string() == <span class="stringliteral">&quot;true&quot;</span>);</div>
<div class="line">  CHECK(vv_custom_42.to_string() == <span class="stringliteral">&quot;{42}&quot;</span>);</div>
<div class="line">  CHECK(vv_custom_43.to_string() == <span class="stringliteral">&quot;{43}&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  vany_value&lt;anyxx::val&gt; b{<span class="keyword">true</span>};</div>
<div class="line">  <span class="keyword">static_assert</span>(<a class="code hl_concept" href="conceptanyxx_1_1is__proxy.html">anyxx::is_proxy&lt;vany_value&lt;&gt;::proxy_t</a>&gt;);</div>
<div class="line">  <span class="keyword">static_assert</span>(!anyxx::is_const_data&lt;vany_value&lt;&gt;::proxy_t&gt;);</div>
<div class="line">  <span class="keyword">static_assert</span>(!anyxx::is_const_data&lt;vany_value&lt;anyxx::val&gt;::proxy_t&gt;);</div>
<div class="line">  b.from_string(<span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line">  CHECK(b.to_string() == <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line">  vany_value&lt;anyxx::val&gt; vv_custom_FS{</div>
<div class="line">      any_value&lt;anyxx::val&gt;{std::in_place_type&lt;custom&gt;}};</div>
<div class="line">  vv_custom_FS.from_string(<span class="stringliteral">&quot;{43}&quot;</span>);</div>
<div class="line">  CHECK(vv_custom_FS.to_string() == <span class="stringliteral">&quot;{43}&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>example_2c {</div>
<div class="line"> </div>
<div class="line"><a id="a6" name="a6"></a><a class="code hl_define" href="group__runtime__macros.html#ga0a538605bcb4ae50bd736f0802af2c8b">VANY_DISPACH_DECLARE</a>(</div>
<div class="line">    , vany_stream, vany_value&lt;&gt;,</div>
<div class="line">    (<span class="keywordtype">void</span>(anyxx::virtual_&lt;any_value&lt;anyxx::shared&gt;&gt;, std::ostream&amp;)),</div>
<div class="line">    ([](<span class="keyword">const</span> std::string&amp; s,</div>
<div class="line">        std::ostream&amp; os) { os &lt;&lt; <span class="stringliteral">&quot;String: &quot;</span> &lt;&lt; s &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>; },</div>
<div class="line">     [](<span class="keywordtype">int</span> i, std::ostream&amp; os) { os &lt;&lt; <span class="stringliteral">&quot;Int: &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>; },</div>
<div class="line">     [](<span class="keywordtype">double</span> d, std::ostream&amp; os) { os &lt;&lt; <span class="stringliteral">&quot;Double: &quot;</span> &lt;&lt; d &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>; },</div>
<div class="line">     [](<span class="keywordtype">bool</span> b, std::ostream&amp; os) {</div>
<div class="line">       os &lt;&lt; <span class="stringliteral">&quot;Bool: &quot;</span> &lt;&lt; std::boolalpha &lt;&lt; b &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line">     }))</div>
<div class="line"> </div>
<div class="line">}  <span class="comment">// namespace example_2c</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>example_2c {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> __ = vany_stream.define&lt;custom&gt;(</div>
<div class="line">    [](<span class="keyword">const</span> custom&amp; c, std::ostream&amp; os) { os &lt;&lt; <span class="stringliteral">&quot;Custom: &quot;</span> &lt;&lt; c.answer; });</div>
<div class="line"> </div>
<div class="line">}  <span class="comment">// namespace example_2c</span></div>
<div class="line"> </div>
<div class="line"><a id="a7" name="a7"></a><a class="code hl_define" href="group__runtime__macros.html#ga93a6d3c140de4e4c95f863b88385a27c">VANY_DISPACH</a>(example_2c, vany_stream)</div>
<div class="line"> </div>
<div class="line">TEST_CASE(<span class="stringliteral">&quot;example 2cc static_ any variant single open dispatch&quot;</span>) {</div>
<div class="line">  <span class="keyword">using namespace </span>example_2c;</div>
<div class="line">  <span class="keyword">using namespace </span>std::string_literals;</div>
<div class="line">  <span class="keyword">using namespace </span>anyxx;</div>
<div class="line">  vany_value&lt;&gt; vv1{std::string{<span class="stringliteral">&quot;hello&quot;</span>}};</div>
<div class="line">  vany_value&lt;&gt; vv2{<span class="keywordtype">int</span>{42}};</div>
<div class="line">  vany_value&lt;&gt; vv3{</div>
<div class="line">      any_value&lt;shared&gt;{std::in_place_type&lt;custom&gt;, <span class="stringliteral">&quot;Hello world!&quot;</span>}};</div>
<div class="line"> </div>
<div class="line">  std::stringstream ss;</div>
<div class="line">  vany_stream(vv1, ss);</div>
<div class="line">  vany_stream(vv2, ss);</div>
<div class="line">  vany_stream(vany_value&lt;&gt;{<span class="keyword">true</span>}, ss);</div>
<div class="line">  vany_stream(vv3, ss);</div>
<div class="line">  CHECK(ss.str() == <span class="stringliteral">&quot;String: hello, Int: 42, Bool: true, Custom: Hello world!&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>example_2c {</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__runtime__macros.html#ga0a538605bcb4ae50bd736f0802af2c8b">VANY_DISPACH_DECLARE</a>(</div>
<div class="line">    , vany_compare, vany_value&lt;&gt;,</div>
<div class="line">    (std::partial_ordering(anyxx::virtual_&lt;any_value&lt;anyxx::shared&gt;&gt;,</div>
<div class="line">                           anyxx::virtual_&lt;any_value&lt;anyxx::shared&gt;&gt;)),</div>
<div class="line">    ([]&lt;<span class="keyword">typename</span> T&gt;(T&amp;&amp; t, T&amp;&amp; u) -&gt; std::partial_ordering</div>
<div class="line">       <span class="keyword">requires</span>(!anyxx::is_any&lt;T&gt;)</div>
<div class="line">     { <span class="keywordflow">return</span> std::forward&lt;T&gt;(t) &lt;=&gt; std::forward&lt;T&gt;(u); },</div>
<div class="line">     [](<span class="keywordtype">bool</span> lhs, std::integral <span class="keyword">auto</span> rhs) -&gt; std::partial_ordering {</div>
<div class="line">       <span class="keywordflow">return</span> lhs &lt;=&gt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(rhs);</div>
<div class="line">     },</div>
<div class="line">     [](std::integral <span class="keyword">auto</span> lhs, <span class="keywordtype">bool</span> rhs) -&gt; std::partial_ordering {</div>
<div class="line">       <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(lhs) &lt;=&gt; rhs;</div>
<div class="line">     },</div>
<div class="line">     [](<span class="keywordtype">bool</span> lhs, <span class="keywordtype">bool</span> rhs) -&gt; std::partial_ordering { <span class="keywordflow">return</span> lhs &lt;=&gt; rhs; },</div>
<div class="line">     [](std::integral <span class="keyword">auto</span> lhs, std::integral <span class="keyword">auto</span> rhs)</div>
<div class="line">         -&gt; std::partial_ordering { <span class="keywordflow">return</span> lhs &lt;=&gt; rhs; },</div>
<div class="line">     [](std::floating_point <span class="keyword">auto</span> lhs, std::floating_point <span class="keyword">auto</span> rhs)</div>
<div class="line">         -&gt; std::partial_ordering { <span class="keywordflow">return</span> lhs &lt;=&gt; rhs; }));</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> operator&lt;=&gt;(<span class="keyword">const</span> vany_value&lt;&gt;&amp; lhs, <span class="keyword">const</span> vany_value&lt;&gt;&amp; rhs) {</div>
<div class="line">  <span class="keywordflow">return</span> vany_compare(lhs, rhs);</div>
<div class="line">}</div>
<div class="line"><span class="keyword">auto</span> operator==(<span class="keyword">const</span> vany_value&lt;&gt;&amp; lhs, <span class="keyword">const</span> vany_value&lt;&gt;&amp; rhs) {</div>
<div class="line">  <span class="keywordflow">return</span> (lhs &lt;=&gt; rhs) == std::weak_ordering::equivalent;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">auto</span> operator!=(<span class="keyword">const</span> vany_value&lt;&gt;&amp; lhs, <span class="keyword">const</span> vany_value&lt;&gt;&amp; rhs) {</div>
<div class="line">  <span class="keywordflow">return</span> (lhs &lt;=&gt; rhs) != std::weak_ordering::equivalent;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> __ = vany_compare.define&lt;custom, custom&gt;(</div>
<div class="line">    [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; lhs, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; rhs) -&gt; std::partial_ordering {</div>
<div class="line">      <span class="keywordflow">return</span> lhs.answer &lt;=&gt; rhs.answer;</div>
<div class="line">    });</div>
<div class="line"><span class="keyword">auto</span> __ = vany_compare.define&lt;concrete_value, custom&gt;(</div>
<div class="line">    [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; lhs, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; rhs) -&gt; std::partial_ordering {</div>
<div class="line">      <span class="keywordflow">return</span> <a id="a8" name="a8"></a>anyxx::trait_as&lt;value&gt;(lhs).to_string() &lt;=&gt; rhs.answer;</div>
<div class="line">    });</div>
<div class="line"><span class="keyword">auto</span> __ = vany_compare.define&lt;custom, concrete_value&gt;(</div>
<div class="line">    [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; lhs, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; rhs) -&gt; std::partial_ordering {</div>
<div class="line">      <span class="keywordflow">return</span> lhs.answer &lt;=&gt; anyxx::trait_as&lt;value&gt;(rhs).to_string();</div>
<div class="line">    });</div>
<div class="line"><span class="keyword">auto</span> __ = vany_compare.define&lt;concrete_value, concrete_value&gt;(</div>
<div class="line">    [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; lhs, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; rhs) -&gt; std::partial_ordering {</div>
<div class="line">      <span class="keywordflow">return</span> anyxx::trait_as&lt;value&gt;(lhs).to_string() &lt;=&gt;</div>
<div class="line">             anyxx::trait_as&lt;value&gt;(rhs).to_string();</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">}  <span class="comment">// namespace example_2c</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__runtime__macros.html#ga93a6d3c140de4e4c95f863b88385a27c">VANY_DISPACH</a>(example_2c, vany_compare)</div>
<div class="line"> </div>
<div class="line">TEST_CASE(<span class="stringliteral">&quot;example 2cd static_ any variant double dispatch&quot;</span>) {</div>
<div class="line">  <span class="keyword">using namespace </span>example_2c;</div>
<div class="line">  <span class="keyword">using namespace </span>std::string_literals;</div>
<div class="line">  <span class="keyword">using namespace </span>anyxx;</div>
<div class="line">  vany_value&lt;&gt; vv1{<span class="stringliteral">&quot;hello&quot;</span>s};</div>
<div class="line">  vany_value&lt;&gt; vvbt{<span class="keywordtype">bool</span>{<span class="keyword">true</span>}};</div>
<div class="line">  vany_value&lt;&gt; vvbf{<span class="keywordtype">bool</span>{<span class="keyword">false</span>}};</div>
<div class="line">  vany_value&lt;&gt; vvi{<span class="keywordtype">int</span>{42}};</div>
<div class="line">  vany_value&lt;&gt; vvi0{<span class="keywordtype">int</span>{0}};</div>
<div class="line">  vany_value&lt;&gt; vvf{<span class="keywordtype">double</span>{42.0}};</div>
<div class="line">  vany_value&lt;&gt; vv3{</div>
<div class="line">      any_value&lt;shared&gt;{std::in_place_type&lt;custom&gt;, <span class="stringliteral">&quot;Hello world!&quot;</span>}};</div>
<div class="line">  vany_value&lt;&gt; vv4{</div>
<div class="line">      any_value&lt;shared&gt;{std::in_place_type&lt;custom&gt;, <span class="stringliteral">&quot;hello&quot;</span>}};</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">bool</span> x = vany_compare(vv1, vv1) == std::partial_ordering::equivalent;</div>
<div class="line">  CHECK(x);</div>
<div class="line">  <span class="keyword">auto</span> y = vv1 &lt;=&gt; vv1;</div>
<div class="line">  CHECK(y == std::weak_ordering::equivalent);</div>
<div class="line">  <span class="keyword">auto</span> z = vv1 == vv1;  <span class="comment">// NOLINT</span></div>
<div class="line">  CHECK(z);</div>
<div class="line">  CHECK(vv3 == vv3);  <span class="comment">// NOLINT</span></div>
<div class="line">  CHECK(vv3 != vv1);</div>
<div class="line">  CHECK(<span class="stringliteral">&quot;hello&quot;</span>s &gt; <span class="stringliteral">&quot;Hello world!&quot;</span>s);</div>
<div class="line">  CHECK(vv1 &gt; vv3);</div>
<div class="line">  CHECK(vv3 != vv4);</div>
<div class="line">  CHECK(vv1 == vv4);</div>
<div class="line">  CHECK(vvi == vvf);</div>
<div class="line">  CHECK(vvbt != vvbf);</div>
<div class="line">  CHECK(vvi != vvbf);</div>
<div class="line">  CHECK(vvi == vvbt);</div>
<div class="line">  CHECK(vvi0 == vvbf);</div>
<div class="line">}</div>
<div class="ttc" id="aanyxx_8hpp_html"><div class="ttname"><a href="anyxx_8hpp.html">anyxx.hpp</a></div><div class="ttdoc">C++ header only library for external polymorphism.</div></div>
<div class="ttc" id="aanyxx_8hpp_html_abb32933fc2d3ddd4236f3075dd5c1562"><div class="ttname"><a href="anyxx_8hpp.html#abb32933fc2d3ddd4236f3075dd5c1562">anyxx::make_vany</a></div><div class="ttdeci">Any&lt; by_val&lt; vany_variant&lt; Any, Proxy, Types... &gt; &gt; &gt; make_vany</div><div class="ttdoc">A factory type to direct get the any for the vany.</div><div class="ttdef"><b>Definition</b> anyxx.hpp:1331</div></div>
<div class="ttc" id="aconceptanyxx_1_1is__proxy_html"><div class="ttname"><a href="conceptanyxx_1_1is__proxy.html">anyxx::is_proxy</a></div><div class="ttdoc">Requirements for a proxy type.</div><div class="ttdef"><b>Definition</b> anyxx.hpp:1109</div></div>
<div class="ttc" id="agroup__model__map__macros_html_gaa11989a5b380318c70cc1a59a8642384"><div class="ttname"><a href="group__model__map__macros.html#gaa11989a5b380318c70cc1a59a8642384">ANY_MODEL_MAP</a></div><div class="ttdeci">#define ANY_MODEL_MAP(model_, trait_)</div><div class="ttdoc">ANY_MODEL_MAP macro.</div><div class="ttdef"><b>Definition</b> anyxx.hpp:864</div></div>
<div class="ttc" id="agroup__proxies_html_gaf97e4130c5c467557b419eb6e97b8d80"><div class="ttname"><a href="group__proxies.html#gaf97e4130c5c467557b419eb6e97b8d80">anyxx::vany_variant</a></div><div class="ttdeci">std::variant&lt; Any&lt; Proxy &gt;, Types... &gt; vany_variant</div><div class="ttdef"><b>Definition</b> anyxx.hpp:1327</div></div>
<div class="ttc" id="agroup__runtime__macros_html_ga0a538605bcb4ae50bd736f0802af2c8b"><div class="ttname"><a href="group__runtime__macros.html#ga0a538605bcb4ae50bd736f0802af2c8b">VANY_DISPACH_DECLARE</a></div><div class="ttdeci">#define VANY_DISPACH_DECLARE(export_, name, vany, signature, static_dispatch)</div><div class="ttdoc">Declare a singleton object for open vany dispatch.</div><div class="ttdef"><b>Definition</b> anyxx.hpp:3693</div></div>
<div class="ttc" id="agroup__runtime__macros_html_ga93a6d3c140de4e4c95f863b88385a27c"><div class="ttname"><a href="group__runtime__macros.html#ga93a6d3c140de4e4c95f863b88385a27c">VANY_DISPACH</a></div><div class="ttdeci">#define VANY_DISPACH(namespace_, name)</div><div class="ttdoc">Define a vany dispatch singleton object in a source file.</div><div class="ttdef"><b>Definition</b> anyxx.hpp:3712</div></div>
<div class="ttc" id="agroup__trait__macros_html_ga47a5ba38b03d55fa5f63979281028d22"><div class="ttname"><a href="group__trait__macros.html#ga47a5ba38b03d55fa5f63979281028d22">ANY</a></div><div class="ttdeci">#define ANY(n, l,...)</div><div class="ttdoc">Simple ANY macro.</div><div class="ttdef"><b>Definition</b> anyxx.hpp:612</div></div>
<div class="ttc" id="agroup__trait__macros_html_ga73e339005a697eb20b243d1622873b99"><div class="ttname"><a href="group__trait__macros.html#ga73e339005a697eb20b243d1622873b99">ANY_FN_DEF</a></div><div class="ttdeci">#define ANY_FN_DEF(ret, name, params, const_,...)</div><div class="ttdoc">TRAIT function with default behavior.</div><div class="ttdef"><b>Definition</b> anyxx.hpp:716</div></div>
<div class="ttc" id="astructanyxx_1_1by__val_html"><div class="ttname"><a href="structanyxx_1_1by__val.html">anyxx::by_val</a></div><div class="ttdef"><b>Definition</b> anyxx.hpp:2619</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
